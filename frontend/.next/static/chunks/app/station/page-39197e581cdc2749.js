(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[398],{1101:function(e,s,t){Promise.resolve().then(t.bind(t,7971))},7971:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var a=t(3827),l=t(4090),r=t(143),n=t(7461);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n.Z)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),d=(0,n.Z)("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);var o=t(6409);function c(e){let{name:s,roomNumber:t,temperature:l,dropsPerMin:n,status:c,onPrintQR:x}=e;return(0,a.jsxs)(r.Z,{className:"relative transition-all duration-300 ".concat({fever:"border-status-danger border-2 bg-red-100 shadow-sm shadow-red-200",warning:"border-status-warning border-2 bg-orange-50",normal:"border-status-success border-2 bg-white"}[c]),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-xl font-bold ".concat("fever"===c?"text-red-700":"text-slate-800"),children:[t,"호"]}),(0,a.jsx)("p",{className:"".concat("fever"===c?"text-red-900/70":"text-slate-600"," font-medium"),children:s})]}),(0,a.jsx)("button",{onClick:x,className:"p-2 hover:bg-slate-200/50 rounded-xl text-slate-400 hover:text-slate-700 transition",children:(0,a.jsx)(i,{size:18})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[(0,a.jsxs)("div",{className:"bg-slate-100/50 p-3 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-slate-500 text-xs mb-1 font-medium",children:[(0,a.jsx)(d,{size:14,className:"text-status-danger"})," 체온"]}),(0,a.jsxs)("div",{className:"text-lg font-bold text-slate-800",children:[l,"\xb0"]})]}),(0,a.jsxs)("div",{className:"bg-slate-100/50 p-3 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-slate-500 text-xs mb-1 font-medium",children:[(0,a.jsx)(o.Z,{size:14,className:"text-primary"})," 수액"]}),(0,a.jsxs)("div",{className:"flex items-baseline",children:[(0,a.jsx)("span",{className:"text-lg font-bold text-slate-800",children:n}),(0,a.jsx)("span",{className:"text-xs text-slate-400 ml-1",children:"gtt"})]})]})]})]})}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,n.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),m=(0,n.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),h=(0,n.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function u(e){let{admissionId:s,patientName:t,onUploadSuccess:n}=e,[i,d]=(0,l.useState)(20),[c,x]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!1),f=async()=>{x(!0);try{(await fetch("http://localhost:8000/api/v1/iv-records",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({admission_id:s,photo_url:"https://placehold.co/400x400/png?text=IV+Photo",drops_per_min:i})})).ok?(p(!0),n(),setTimeout(()=>p(!1),3e3)):alert("Upload failed")}catch(e){console.error(e),alert("Error uploading record")}finally{x(!1)}};return(0,a.jsxs)(r.Z,{className:"mt-4 border-slate-200 bg-white shadow-md",children:[(0,a.jsxs)("h5",{className:"font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-1.5 bg-teal-50 rounded-lg",children:(0,a.jsx)(o.Z,{size:18,className:"text-primary"})}),"IV Check (",t,")"]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Speed (gtt)"}),(0,a.jsx)("input",{type:"number",value:i,onChange:e=>d(Number(e.target.value)),className:"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-4 py-2 text-slate-700 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition"})]}),(0,a.jsx)("button",{onClick:f,disabled:c||u,className:"w-full flex items-center justify-center gap-2 py-3 rounded-2xl text-sm font-bold shadow-sm active:scale-95 transition-all ".concat(u?"bg-status-success text-white ring-2 ring-green-200":"bg-primary text-white hover:bg-teal-600 shadow-teal-100"),children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{size:18})," Recorded"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{size:18})," ",c?"Saving...":"Upload Record"]})})]})]})}function p(){let[e,s]=(0,l.useState)(Array.from({length:29},(e,s)=>({id:"admission-uuid-".concat(s),room:801+s,name:"Child ".concat(s+1),temp:36.5+2*Math.random(),drops:20,status:36.5+2*Math.random()>=38?"fever":"normal",showIVForm:!1}))),t=t=>{let a=[...e];a[t].showIVForm=!a[t].showIVForm,s(a)};return(0,a.jsxs)("div",{className:"flex h-screen bg-slate-100 overflow-hidden",children:[(0,a.jsxs)("main",{className:"flex-1 p-6 overflow-y-auto",children:[(0,a.jsxs)("header",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"Pediatric Ward Station (Unit 8)"}),(0,a.jsx)("div",{className:"text-slate-500",children:"Total Patients: 29"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map((e,s)=>{let l=e.temp>=38;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c,{name:e.name,roomNumber:e.room,temperature:e.temp.toFixed(1),dropsPerMin:e.drops,status:l?"fever":"normal",onPrintQR:()=>t(s)}),e.showIVForm&&(0,a.jsx)("div",{className:"absolute top-full left-0 right-0 z-10 shadow-xl",children:(0,a.jsx)(u,{admissionId:e.id,patientName:e.name,onUploadSuccess:()=>{t(s)}})})]},e.room)})})]}),(0,a.jsxs)("aside",{className:"w-80 bg-white border-l border-slate-200 p-4 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-slate-800 font-semibold",children:[(0,a.jsx)(x,{size:20,className:"text-teal-500"}),(0,a.jsx)("span",{children:"Recent Requests"})]}),(0,a.jsxs)(r.Z,{className:"border-l-4 border-l-teal-500",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("span",{className:"font-bold text-slate-700",children:"802호"}),(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"2분 전"})]}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"식단 변경 요청 (일반식 -> 죽)"})]}),(0,a.jsxs)(r.Z,{className:"border-l-4 border-l-blue-500",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("span",{className:"font-bold text-slate-700",children:"805호"}),(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"10분 전"})]}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"입퇴원 확인서 신청"})]})]})]})}},143:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(3827);t(4090);var l=t(3167),r=t(1367);function n(e){let{children:s,className:t,...n}=e;return(0,a.jsx)("div",{className:function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,l.W)(s))}("bg-white rounded-xl shadow-sm border border-slate-100 p-4",t),...n,children:s})}}},function(e){e.O(0,[537,971,69,744],function(){return e(e.s=1101)}),_N_E=e.O()}]);