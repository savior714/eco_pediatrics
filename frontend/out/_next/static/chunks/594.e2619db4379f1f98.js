"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[594],{40924:function(e,r,t){async function n(e,r={},t){return window.__TAURI_INTERNALS__.invoke(e,r,t)}t.d(r,{dw:function(){return n}}),"function"==typeof SuppressedError&&SuppressedError,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap},41594:function(e,r,t){t.d(r,{fetch:function(){return d}});var n=t(40924);let a="Request cancelled";async function d(e,r){let t=r?.signal;if(t?.aborted)throw Error(a);let d=r?.maxRedirections,i=r?.connectTimeout,o=r?.proxy,s=r?.danger;r&&(delete r.maxRedirections,delete r.connectTimeout,delete r.proxy,delete r.danger);let c=r?.headers?r.headers instanceof Headers?r.headers:new Headers(r.headers):new Headers,l=new Request(e,r),u=await l.arrayBuffer(),f=0!==u.byteLength?Array.from(new Uint8Array(u)):null;for(let[e,r]of l.headers)c.get(e)||c.set(e,r);let h=(c instanceof Headers?Array.from(c.entries()):Array.isArray(c)?c:Object.entries(c)).map(([e,r])=>[e,"string"==typeof r?r:r.toString()]);if(t?.aborted)throw Error(a);let p=await (0,n.dw)("plugin:http|fetch",{clientConfig:{method:l.method,url:l.url,headers:h,data:f,maxRedirections:d,connectTimeout:i,proxy:o,danger:s}}),w=()=>(0,n.dw)("plugin:http|fetch_cancel",{rid:p});if(t?.aborted)throw w(),Error(a);t?.addEventListener("abort",()=>void w());let{status:y,statusText:b,url:g,headers:_,rid:k}=await (0,n.dw)("plugin:http|fetch_send",{rid:p}),m=()=>(0,n.dw)("plugin:http|fetch_cancel_body",{rid:k}),E=async e=>{let r;try{r=await (0,n.dw)("plugin:http|fetch_read_body",{rid:k})}catch(r){e.error(r),m();return}let t=new Uint8Array(r),a=t[t.byteLength-1],d=t.slice(0,t.byteLength-1);if(1===a){e.close();return}e.enqueue(d)},A=new Response([101,103,204,205,304].includes(y)?null:new ReadableStream({start:e=>{t?.addEventListener("abort",()=>{e.error(a),m()})},pull:e=>E(e),cancel:()=>{m()}}),{status:y,statusText:b});return Object.defineProperty(A,"url",{value:g}),Object.defineProperty(A,"headers",{value:new Headers(_)}),A}}}]);