# Windows Terminal 3분할 레이아웃 역전 조사용 프롬프트 (v2)

`-p 1` 적용 후에도 상단이 2분할로 나오는 상태입니다. 아래 블록 전체를 **다른 LLM 에이전트**에게 복사해 붙여 넣어 질문하세요.

---

## 프롬프트 (복사용)

```
[목표 레이아웃]
Windows 11, Windows Terminal(wt.exe) 한 탭에서:
- **상단 20%**: Error Monitor (1개 패널)
- **하단 80%**: 왼쪽 50% Backend, 오른쪽 50% Frontend (하단만 좌우 2분할)

즉, "상단 1개 + 하단 2개"가 되어야 합니다.

[현재 현상 (계속됨)]
실제로는 **상단이 2분할**, **하단이 1개** 큰 패널로 나옵니다. "상단 2개 + 하단 1개" 상태입니다.

[이미 시도한 것]
1. **포커스 의존 제거**: 두 번째 split에 `-p 1`을 넣어 "하단 패널(Pane 1)을 수직 분할"하도록 했습니다.
   - 현재 전달 인자: `split-pane -V -p 1 --size 0.5 -d <frontendDir> cmd /k "npm run tauri dev"`
2. 그런데 **여전히 상단이 2분할**로 나옵니다. `-p 1`이 기대대로 동작하지 않거나, Pane 인덱스가 다르게 부여되는 환경으로 보입니다.

[스크립트 순서 요약]
1. nt 로 첫 패널 생성 (Error Monitor) → Pane 0
2. split-pane -H --size 0.8 → 기존 Pane 0은 상단 20%, 새 패널이 하단 80% (Backend). 일반적으로 새 패널이 Pane 1로 알려져 있음.
3. split-pane -V -p 1 --size 0.5 → 의도: Pane 1(하단)을 좌우 분할. 실제: 상단이 쪼개짐.

[질문]
1. Windows Terminal에서 **pane index**는 0부터인가요, 1부터인가요? `-H` 분할 후 "기존(상단) 패널"과 "새로 생긴(하단) 패널"에 각각 어떤 인덱스가 부여되는지 공식 문서나 동작 기준이 있나요?
2. `-p` 옵션의 **정확한 문법**이 있나요? (예: `-p 0`이 상단, `-p 1`이 하단이 아니라 그 반대이거나, 또는 인덱스가 생성 순서가 아닌 화면 위치 순서인지 등)
3. `-p` 없이 **`move-focus down`** 을 실행한 뒤 바로 `split-pane -V`를 실행하면, "현재 포커스된 패널"이 하단으로 확정된 상태에서 분할되나요? 그렇다면 `move-focus down` + `split-pane -V` (without -p) 조합으로 수정하는 구체적인 wt 인자 배열 예시를 제안해 주세요.
4. 혹시 **분할 순서를 바꾸는 방법** (예: 먼저 하단 2개 패널을 만들고, 마지막에 상단 1개를 만드는 식)으로 같은 최종 레이아웃을 얻을 수 있다면, 그 순서와 명령 조합을 제안해 주세요.

참고: 프로젝트의 `scripts\launch_wt_dev.ps1` 전체를 읽어 현재 인자 배열을 확인한 뒤, 위 1~4에 대해 구체적으로 답하고 수정안(인자 배열 또는 의사코드)을 제안해 주세요.
```

---

## 추가 컨텍스트 (필요 시 같이 전달)

- **실행 환경**: Windows 11, Windows Terminal (버전은 사용자 환경에 따라 상이할 수 있음).
- **Frontend**: `npm run tauri dev` 실행 시 `cargo not found` 등으로 실패할 수 있으나, `cmd /k`로 패널은 유지됨.
- **문서**: `docs\TROUBLESHOOTING_WT_LAYOUT.md` 에 세미콜론 파싱·인자 배열 방식 해결 내역 있음. `docs\TROUBLESHOOTING.md` §4·§6 에 Dev 모드·레이아웃 관련 정리 있음.
