# Eco-Pediatrics Guardian Dashboard (ì—ì½” ì†Œì•„ê³¼ ë³´í˜¸ì ëŒ€ì‹œë³´ë“œ)

ì†Œì•„ê³¼ ë³‘ë™ ì…ì› í™˜ì•„ ë³´í˜¸ìì™€ ê°„í˜¸ ìŠ¤í…Œì´ì…˜ì„ ìœ„í•œ ì‹¤ì‹œê°„ ì˜ë£Œ ëª¨ë‹ˆí„°ë§ ë° ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ í”Œë«í¼ì…ë‹ˆë‹¤.

## ğŸŒŸ í”„ë¡œì íŠ¸ ì†Œê°œ

ë³´í˜¸ìëŠ” ìŠ¤ë§ˆíŠ¸í°(QR ì ‘ì†)ìœ¼ë¡œ ì–¸ì œ ì–´ë””ì„œë‚˜ ìë…€ì˜ ì²´ì˜¨, ìˆ˜ì•¡ ìƒíƒœ, ì‹ë‹¨, ê²€ì‚¬ ì¼ì •ì„ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ê°„í˜¸ ìŠ¤í…Œì´ì…˜ì€ ë³‘ë™ ì „ì²´ í˜„í™©ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê´€ì œí•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸš€ ìµœì‹  ì—…ë°ì´íŠ¸ ë° ì£¼ìš” ê¸°ëŠ¥ (2026-02-19 ê¸°ì¤€)

### 1. ì„±ëŠ¥ ë° ì‹œìŠ¤í…œ ìµœì í™”
*   **Supabase ì¿¼ë¦¬ ì§€ì—° í•´ê²°**: `utils.py`ì˜ `AttributeError`ë¡œ ì¸í•œ ë¶ˆí•„ìš”í•œ ì¬ì‹œë„ ë£¨í”„(ì•½ 3.5ì´ˆ ì§€ì—°)ë¥¼ ì œê±°í•˜ì—¬ API ì‘ë‹µ ì†ë„ ì •ìƒí™”.
*   **Frontend API ìºì‹±**: Tauri í”ŒëŸ¬ê·¸ì¸ ë™ì  ë¡œë“œ ì˜¤ë²„í—¤ë“œë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ëª¨ë“ˆ ë ˆë²¨ì—ì„œ `fetch` ë° `log` í•¨ìˆ˜ë¥¼ ìºì‹±í•˜ì—¬ ë³‘ë ¬ ìš”ì²­ íš¨ìœ¨ì„± ì¦ëŒ€.

### 2. ë°ì´í„° ì •í•©ì„± ë° ì•ˆì •ì„± (Idempotency)
*   **ì„œë¥˜ ìš”ì²­ ì¤‘ë³µ ë°©ì§€**: ë™ì¼ í•­ëª©ì— ëŒ€í•œ ì¤‘ë³µ ì‹ ì²­ì„ ë°±ì—”ë“œ(DB ë ˆë²¨ ì²´í¬)ì™€ í”„ë¡ íŠ¸ì—”ë“œ(ì²´í¬ë°•ìŠ¤ ë¹„í™œì„±í™”) ì–‘ë‹¨ì—ì„œ ì°¨ë‹¨.
*   **ê²€ì‚¬ ì¼ì • ë³µêµ¬ ë¡œì§**: ì‚­ì œ í›„ ë™ì¼ ID ì¬ìƒì„± ì‹œ ë°œìƒí•˜ë˜ ì¶©ëŒì„ í•´ê²°í•˜ê³ , SQL ìŠ¤í¬ë¦½íŠ¸ì— `DROP POLICY IF EXISTS` ë“± ë©±ë“±ì„± ë³´ê°•.

### 3. UI/UX ê³ ë„í™” ë° ì•Œë¦¼ ìµœì í™”
*   **ìŠ¤ë§ˆíŠ¸ ì•Œë¦¼ ì œì–´**: ì—…ë¬´ ëª°ì…ë„ í–¥ìƒì„ ìœ„í•´ ì„œë¥˜ ì‹ ì²­ ì•Œë¦¼ì„ ì‹¤ì‹œê°„ ì•Œë¦¼ì°½ì—ì„œ ì œì™¸í•˜ê³ , í™˜ì ìƒì„¸í˜ì´ì§€ì˜ 'í˜„í™©' ëª©ë¡ìœ¼ë¡œ ê´€ë¦¬ ì¼ì›í™”.
*   **ìŠ¤í…Œì´ì…˜ ì‹œì¸ì„± ê°œì„ **: í‡´ì›, ì „ì‹¤, Dev ë²„íŠ¼ ë“±ì— í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼ë§ì„ ì¶”ê°€í•˜ê³ , ë³´í˜¸ì ëŒ€ì‹œë³´ë“œ í—¤ë”ì˜ ë¶ˆí•„ìš”í•œ ìš”ì†Œë¥¼ ì œê±°í•˜ì—¬ ì‹¬ë¯¸ì„± í–¥ìƒ.

### 4. ë³´ì•ˆ ë° ê¶Œí•œ ì²´ê³„ (RLS)
*   **Meal Requests CRUD ì™„ì „ ììœ¨í™”**: ì‹ë‹¨ í¸ì§‘ ì‹œ ë°œìƒí•˜ëŠ” 500 ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `meal_requests` í…Œì´ë¸”ì— `INSERT/UPDATE` ì •ì±…ì„ ë³´ê°•.
*   **ìƒíƒœ ê¸°ë°˜ ê¶Œí•œ ì œì–´**: `IN_PROGRESS` ë¿ë§Œ ì•„ë‹ˆë¼ `OBSERVATION` í™˜ìì— ëŒ€í•´ì„œë„ ì¼ê´€ëœ ë³´ì•ˆ ì •ì±… ì ìš©.

| ë¶„ë¥˜ | ì„¸ë¶€ ê¸°ëŠ¥ ì„¤ëª… |
| :--- | :--- |
| **ë³´í˜¸ì ëŒ€ì‹œë³´ë“œ** | ë³„ë„ì˜ ë¡œê·¸ì¸ ì—†ëŠ” **QR ì½”ë“œ ì ‘ì†**, ì‹¤ì‹œê°„ ì²´ì˜¨/ìˆ˜ì•¡ ëª¨ë‹ˆí„°ë§, í•´ì—´ì œ íˆ¬ì—¬ ì‹œì  ì‹œê°í™”. |
| **ê°„í˜¸ ìŠ¤í…Œì´ì…˜** | ë³‘ë™ ì „ì²´ í˜„í™© ê´€ì œ, í™˜ì ìƒì„¸ ê´€ë¦¬, ì „ì‹¤/í‡´ì› ì²˜ë¦¬ ë° ì‹¤ì‹œê°„ ìš”ì²­ ì»¨íŒ. |
| **í†µí•© ì‹ë‹¨ ê´€ë¦¬** | í™˜ì•„/ë³´í˜¸ì ì‹ì‚¬ ì‹ ì²­, ìŠ¤í…Œì´ì…˜ìš© í†µí•© ì‹ë‹¨ ê·¸ë¦¬ë“œ ë° ë¹„ê³ ë€ ì‹¤ì‹œê°„ ë™ê¸°í™”. |
| **ì‹¤ì‹œê°„ ë™ê¸°í™”** | WebSocket ê¸°ë°˜ 100% ì‹¤ì‹œê°„ ì•± ìƒíƒœ ë™ê¸°í™” ë° ìë™ ì¬ì—°ê²°. |

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

| ë¶„ë¥˜ | ê¸°ìˆ  |
| :--- | :--- |
| **Frontend** | Next.js 14 (App Router), Tailwind CSS v4, Lucide React, Recharts, Framer Motion |
| **Backend** | FastAPI (Python 3.10+), WebSockets, Loguru, Pydantic |
| **Database** | Supabase (PostgreSQL), Row Level Security (RLS) |
| **Infra/DevOps** | Batch Scripts (Windows), Docker (Optional) |

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (Refactored 2026-02-14)

ë³¸ í”„ë¡œì íŠ¸ëŠ” **Layered Architecture**ë¥¼ ë”°ë¥´ë©°, ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ ê³ ë ¤í•˜ì—¬ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

*   **Backend**: `routers`(ë„ë©”ì¸ ì§„ì…) -> `services`(ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§) -> `utils`(ê³µí†µ ê¸°ëŠ¥) êµ¬ì¡°ë¡œ ë¶„ë¦¬.
    *   **Global Error Handling**: í‘œì¤€í™”ëœ ì˜ˆì™¸ ì²˜ë¦¬ ë° êµ¬ì¡°í™”ëœ ë¡œê¹… ë„ì….
    *   **Data Integrity**: Pydantic ëª¨ë¸ì„ í†µí•œ ì—„ê²©í•œ ì…ì¶œë ¥ ê²€ì¦.
*   **Frontend**: `hooks`(ìƒíƒœ/ë¡œì§) -> `components`(UI) -> `lib/api`(í†µì‹ ) ê³„ì¸µí™”.
    *   **WebSocket Resilience**: ì—°ê²° ëŠê¹€ ì‹œ ìë™ ì¬ì—°ê²° ë° ìƒíƒœ ë³µêµ¬ ë¡œì§ ë‚´ì¥.

## ğŸ’» ì‹œì‘ ê°€ì´ë“œ (Getting Started)

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
*   Python 3.10+
*   Node.js 18+
*   Supabase í”„ë¡œì íŠ¸ (URL/Key)

### ì„¤ì¹˜ ë° ì‹¤í–‰

1.  **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**:
    *   `backend/.env` (ì°¸ê³ : `backend/.env.example`)
    *   `frontend/.env.local`

2.  **ë°±ì—”ë“œ ì‹¤í–‰**:
    ```bash
    ./start_backend.bat
    # ë˜ëŠ” python backend/main.py (ê¸°ë³¸ í¬íŠ¸ 8000)
    ```

3.  **í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰**:
    ```bash
    ./start_frontend.bat
    # ë˜ëŠ” cd frontend && npm run dev
    ```

4.  **Tauri ì•± ì‹¤í–‰ (ë°ìŠ¤í¬í†±)**:
    ```bash
    cd frontend
    npm run tauri dev
    ```
    *ì£¼ì˜: Tauri v2 ê¶Œí•œ ì„¤ì • ë³€ê²½ ì‹œ ì•±ì„ ì™„ì „íˆ ì¢…ë£Œ í›„ ì¬ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.*

### í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± (Seeding)
ê°œë°œ í¸ì˜ë¥¼ ìœ„í•´ ë”ë¯¸ ë°ì´í„°ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

*   **ì „ì²´ ë°ì´í„° ìƒì„±**: `POST /api/v1/seed/full-test-data` (ì…ì›, ë°”ì´íƒˆ, ê²€ì‚¬ ì¼ì • í¬í•¨)
*   **ë³‘ìƒ ë°ì´í„° ìƒì„±**: `POST /api/v1/seed/station-admissions`

## ğŸ“‚ ë¬¸ì„œ (Documentation)

*   [CONTEXT_SNAPSHOT.md](./CONTEXT_SNAPSHOT.md): í”„ë¡œì íŠ¸ì˜ ìƒì„¸ ê°œë°œ í˜„í™© ë° íˆìŠ¤í† ë¦¬ (ìµœì‹ )
*   [TROUBLESHOOTING.md](./TROUBLESHOOTING.md): ì£¼ìš” ì´ìŠˆ ë° í•´ê²° ê°€ì´ë“œ
*   [NEXT_STEPS.md](./NEXT_STEPS.md): í–¥í›„ ê°œë°œ ê³„íš
